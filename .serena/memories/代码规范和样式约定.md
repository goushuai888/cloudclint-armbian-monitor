# 代码规范和样式约定

## TypeScript 规范

### 严格模式配置
- 启用 TypeScript 严格模式
- 强制一致的类型导入: `@typescript-eslint/consistent-type-imports`
- 类型导入优先使用: `import type { } from ''`

### 类型定义
- 类型文件位置: `src/types/`
- 主要类型文件:
  - `api.ts` - API接口类型
  - `device.ts` - 设备相关类型
  - `common.ts` - 通用类型

## Vue 组件规范

### 组件命名
- 页面组件 (`src/pages/`): 允许单词组件名
- 其他组件: 必须多词组件名 (PascalCase)
- 文件名与组件名保持一致

### 组件结构
```vue
<template>
  <!-- 模板内容 -->
</template>

<script setup lang="ts">
// 使用 Composition API + TypeScript
// 导入和类型定义在顶部
import type { ComponentType } from '@/types'

// 组件名定义
defineOptions({
  name: 'ComponentName'
})

// 其余逻辑
</script>

<style scoped>
/* 组件样式 */
</style>
```

## ESLint 规则要点

### Vue 相关
- Vue推荐规则集: `flat/essential`
- 页面组件例外: 允许单词组件名

### JavaScript/TypeScript
- 推荐配置: 基于 @eslint/js
- Promise错误处理: 关闭严格要求
- 开发环境: 允许 debugger
- 生产环境: 禁止 debugger

### 全局变量支持
- Browser globals: window, document 等
- Node.js globals: process 等 (支持SSR)
- Service Worker globals (PWA支持)
- 扩展支持: Google Analytics, Cordova, Chrome Extension

## Prettier 格式化规范

### 基本配置
- 使用单引号: `singleQuote: true`
- 每行最大长度: `printWidth: 100`
- 自动格式化: 保存时触发

### 支持的文件类型
- JavaScript/TypeScript: `.js, .ts, .mjs, .cjs`
- Vue: `.vue`
- 样式: `.scss, .css`
- 标记语言: `.html, .md`
- 配置: `.json`

## Quasar UI 规范

### 组件使用
- 使用 q- 前缀的Quasar组件
- 启用插件: Notify (通知), Dialog (对话框)
- 图标系统: Material Icons

### 样式规范
- 全局样式文件: `src/css/app.scss`
- Quasar变量文件: `src/css/quasar.variables.scss`
- 组件样式: 使用 `scoped` 作用域

## 路径别名
- `@` -> `src/` 目录
- `@/*` -> `src/` 下的所有文件
- 在 TypeScript 和 Vite 中均已配置

## 命名约定

### 文件命名
- 组件文件: PascalCase (如 `DeviceCard.vue`)
- 页面文件: PascalCase (如 `Login.vue`, `Dashboard.vue`)
- 工具文件: camelCase (如 `format.ts`)
- 类型文件: camelCase (如 `device.ts`)

### 变量命名
- 变量/函数: camelCase
- 常量: UPPER_SNAKE_CASE
- 类型/接口: PascalCase
- 组件实例: PascalCase